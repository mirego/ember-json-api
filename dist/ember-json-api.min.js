define("json-api-adapter",["exports"],function(e){"use strict";function r(e,r,t){this.status=e,this.message=r,this.xhr=t,this.stack=(new Error).stack}var t=Ember.get;DS._routes=Ember.create(null),DS.JsonApiAdapter=DS.RESTAdapter.extend({shouldDasherizeKeys:!0,defaultSerializer:"DS/jsonApi",contentType:"application/vnd.api+json; charset=utf-8",accepts:"application/vnd.api+json, application/json, text/javascript, */*; q=0.01",ajaxOptions:function(e,r,t){var i=this._super(e,r,t);return i.data&&"GET"!==r&&(i.contentType=this.contentType),i.hasOwnProperty("headers")||(i.headers={}),i.headers.Accept=this.accepts,i},getRoute:function(e,r){return DS._routes[e]},buildURL:function(e,r,i){var n=this.getRoute(e,r,i);if(!n)return this._super(e,r,i);var s=[],a=t(this,"host"),o=this.urlPrefix(),l=/\{(.*?)\}/g;return s.push(r?l.test(n)?n.replace(l,r):n:n.replace(l,"")),o&&s.unshift(o),s=s.join("/"),!a&&s&&(s="/"+s),s},findMany:function(e,r,t,i){return this.ajax(this.buildURL(r.typeKey,t.join(","),i,"findMany"),"GET")},createRecord:function(e,r,t){var i=this._serializeData(e,r,t);return this.ajax(this.buildURL(r.typeKey),"POST",{data:i})},findBelongsTo:function(e,r,t,i){var n=r.belongsTo(i.key),s=n&&!n.record.get("currentState.isEmpty");return s?void 0:this._super(e,r,t,i)},findHasMany:function(e,r,i,n){var s=r.hasMany(n.key).filter(function(e){return!e.record.get("currentState.isEmpty")});return t(s,"length")?new Ember.RSVP.Promise(function(e,r){r()}):this._super(e,r,i,n)},updateRecord:function(e,r,i){var n=this._serializeData(e,r,i),s=t(i,"id");return this.ajax(this.buildURL(r.typeKey,s,i),"PATCH",{data:n})},_serializeData:function(e,r,t){var i=e.serializerFor(r.typeKey),n=Ember.isArray(t)?"serializeArray":"serialize",s={data:i[n](t,{includeId:!0,type:r.typeKey})};return s},_tryParseErrorResponse:function(e){try{return Ember.$.parseJSON(e)}catch(r){return"Something went wrong"}},ajaxError:function(e){var t,i=this._super(e);if(e&&"object"==typeof e){t=this._tryParseErrorResponse(e.responseText);var n={};return t&&"object"==typeof t&&void 0!==t.errors&&Ember.A(Ember.keys(t.errors)).forEach(function(e){n[Ember.String.camelize(e)]=t.errors[e]}),422===e.status?new DS.InvalidError(n):new r(e.status,t,e)}return i},pathForType:function(e){var r=this.shouldDasherizeKeys?Ember.String.dasherize(e):e;return Ember.String.pluralize(r)}}),r.prototype=Ember.create(Error.prototype),r.constructor=r,DS.JsonApiAdapter.ServerError=r,e["default"]=DS.JsonApiAdapter}),define("json-api-serializer",["exports"],function(e){"use strict";function r(e,r,t){return t?{linkage:{id:t,type:Ember.String.pluralize(r)}}:t}function t(e,r,t,i){var n,s,a=Ember.A(t.hasMany(i)).mapBy("id")||[],o=Ember.String.pluralize(r),l=[];for(n=0,s=a.length;s>n;++n)l.push({id:a[n],type:o});return{linkage:l}}function i(e){return e.type?{id:e.id,type:Ember.String.camelize(Ember.String.singularize(e.type))}:e.id}function n(e){return Ember.isEmpty(e)?null:Ember.isArray(e)?s(e):i(e)}function s(e){if(Ember.isEmpty(e))return null;var r,t,n=[];for(r=0,t=e.length;t>r;++r)n.push(i(e[r]));return n}var a=Ember.get,o=Ember.isNone,l=/(^https?:\/\/.*?)(\/.*)/;DS.JsonApiSerializer=DS.RESTSerializer.extend({shouldDasherizeKeys:!0,primaryRecordKey:"data",sideloadedRecordsKey:"included",relationshipKey:"self",relatedResourceKey:"related",keyForAttribute:function(e){return this.shouldDasherizeKeys?Ember.String.dasherize(e):e},keyForRelationship:function(e){return this.shouldDasherizeKeys?Ember.String.dasherize(e):e},keyForSnapshot:function(e){return this.shouldDasherizeKeys?Ember.String.dasherize(e.typeKey):e.typeKey},normalize:function(e,r,t){var i={};for(var n in r)if("links"!==n)if("attributes"!==n){var s=Ember.String.camelize(n);i[s]=r[n]}else for(var a in r[n]){var s=Ember.String.camelize(a);i[s]=r[n][a]}else i[n]=r[n];return this._super(e,i,t)},normalizePayload:function(e){if(!e)return{};var r=e[this.primaryRecordKey];return r&&(Ember.isArray(r)?this.extractArrayData(r,e):this.extractSingleData(r,e),delete e[this.primaryRecordKey]),e.meta&&(this.extractMeta(e.meta),delete e.meta),e.links&&delete e.links,e[this.sideloadedRecordsKey]&&(this.extractSideloaded(e[this.sideloadedRecordsKey]),delete e[this.sideloadedRecordsKey]),e},extractArray:function(e,r,t,i,n){return Ember.isEmpty(t[this.primaryRecordKey])?Ember.A():this._super(e,r,t,i,n)},extractSingleData:function(e,r){e.links&&this.extractRelationships(e.links,e),r[e.type]=e,delete e.type},extractArrayData:function(e,r){var t=e.length>0?e[0].type:null,i=this;e.forEach(function(e){e.links&&i.extractRelationships(e.links,e)}),r[t]=e},extractSideloaded:function(e){var r=a(this,"store"),t={},i=this;e.forEach(function(e){var r=e.type;e.links&&i.extractRelationships(e.links,e),delete e.type,t[r]||(t[r]=[]),t[r].push(e)}),this.pushPayload(r,t)},extractRelationships:function(e,r){var t,i,s,a,o,l;r.links={};for(t in e)i=e[t],t=Ember.String.camelize(t.split(".").pop()),i&&("string"==typeof i?(i.indexOf("/")>-1?(a=i,s=null):(a=null,s=i),o=null):(o=i[this.relationshipKey],a=i[this.relatedResourceKey],s=n(i.linkage)),a&&(l=this.removeHost(a),r.links[t]=l,l.indexOf("{")>-1&&(DS._routes[t]=l.replace(/^\//,""))),s&&(r[t]=s),o&&(r.links[t+"--self"]=this.removeHost(o)));return r.links},removeHost:function(e){return e.replace(l,"$2")},serialize:function(e,r){var t=this._super(e,r);t.attributes={};for(var i in t)"links"!==i&&"attributes"!==i&&(t.attributes[i]=t[i],delete t[i]);return!t.hasOwnProperty("type")&&r&&r.type&&(t.type=Ember.String.pluralize(this.keyForRelationship(r.type))),t},serializeArray:function(e,r){var t=Ember.A(),i=this;return e?(e.forEach(function(e){t.push(i.serialize(e,r))}),t):t},serializeIntoHash:function(e,r,t,i){var n=this.serialize(t,i);n.hasOwnProperty("type")||(n.type=Ember.String.pluralize(this.keyForRelationship(r.typeKey))),e[this.keyForAttribute(r.typeKey)]=n},serializeBelongsTo:function(e,t,i){var n,s,l=i.key,u=e.belongsTo(l);o(u)||(n=this.keyForSnapshot(u),s=this.keyForRelationship(l),t.links=t.links||{},t.links[s]=r(s,n,a(u,"id")))},serializeHasMany:function(e,r,i){var n=i.key,s=this.keyForRelationship(i.type.typeKey),a=this.keyForRelationship(n);"hasMany"===i.kind&&(r.links=r.links||{},r.links[a]=t(a,s,e,n))}}),e["default"]=DS.JsonApiSerializer});