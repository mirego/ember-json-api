define("json-api-adapter",["exports"],function(e){"use strict";function t(e,t,r){this.status=e,this.message=t,this.xhr=r,this.stack=(new Error).stack}var r=Ember.get;DS._routes=Ember.create(null),DS.JsonApiAdapter=DS.RESTAdapter.extend({shouldDasherizeKeys:!0,defaultSerializer:"DS/jsonApi",contentType:"application/vnd.api+json; charset=utf-8",accepts:"application/vnd.api+json, application/json, text/javascript, */*; q=0.01",ajaxOptions:function(e,t,r){var i=this._super(e,t,r);return i.data&&"GET"!==t&&(i.contentType=this.contentType),i.hasOwnProperty("headers")||(i.headers={}),i.headers.Accept=this.accepts,i},getRoute:function(e,t){return DS._routes[e]},buildURL:function(e,t,i){var s=this.getRoute(e,t,i);if(!s)return this._super(e,t,i);var a=[],n=r(this,"host"),o=this.urlPrefix(),l=/\{(.*?)\}/g;return t?l.test(s)?a.push(s.replace(l,t)):a.push(s):a.push(s.replace(l,"")),o&&a.unshift(o),a=a.join("/"),!n&&a&&(a="/"+a),a},findMany:function(e,t,r,i){return this.ajax(this.buildURL(t.typeKey,r.join(","),i,"findMany"),"GET")},createRecord:function(e,t,r){var i=this._serializeData(e,t,r);return this.ajax(this.buildURL(t.typeKey),"POST",{data:i})},findBelongsTo:function(e,t,r,i){var s=t.belongsTo(i.key),a=s&&!s.record.get("currentState.isEmpty");return a?void 0:this._super(e,t,r,i)},findHasMany:function(e,t,i,s){var a=t.hasMany(s.key).filter(function(e){return!e.record.get("currentState.isEmpty")});return r(a,"length")?new Ember.RSVP.Promise(function(e,t){t()}):this._super(e,t,i,s)},updateRecord:function(e,t,i){var s=this._serializeData(e,t,i),a=r(i,"id");return this.ajax(this.buildURL(t.typeKey,a,i),"PATCH",{data:s})},_serializeData:function(e,t,r){var i=e.serializerFor(t.typeKey),s=Ember.isArray(r)?"serializeArray":"serialize",a={data:i[s](r,{includeId:!0,type:t.typeKey})};return a},_tryParseErrorResponse:function(e){try{return Ember.$.parseJSON(e)}catch(t){return"Something went wrong"}},ajaxError:function(e){var r,i=this._super(e);if(e&&"object"==typeof e){r=this._tryParseErrorResponse(e.responseText);var s={};return r&&"object"==typeof r&&void 0!==r.errors&&Ember.A(Ember.keys(r.errors)).forEach(function(e){s[Ember.String.camelize(e)]=r.errors[e]}),422===e.status?new DS.InvalidError(s):new t(e.status,r,e)}return i},pathForType:function(e){var t=this.shouldDasherizeKeys?Ember.String.dasherize(e):Ember.String.camelize(e);return Ember.String.pluralize(t)}}),t.prototype=Ember.create(Error.prototype),t.constructor=t,DS.JsonApiAdapter.ServerError=t,e["default"]=DS.JsonApiAdapter}),define("json-api-serializer",["exports"],function(e){"use strict";function t(e,t,r){return r?{data:{id:r,type:Ember.String.camelize(Ember.String.pluralize(t))}}:r}function r(e,t,r,i){var s,a,n=Ember.A(r.hasMany(i)).mapBy("id")||[],o=Ember.String.pluralize(t),l=[];for(s=0,a=n.length;a>s;++s)l.push({id:n[s],type:o});return{data:l}}function i(e){return e.type?{id:e.id,type:Ember.String.camelize(Ember.String.singularize(e.type))}:e.id}function s(e){return Ember.isEmpty(e)?null:Ember.isArray(e)?a(e):i(e)}function a(e){if(Ember.isEmpty(e))return null;var t,r,s=[];for(t=0,r=e.length;r>t;++t)s.push(i(e[t]));return s}var n=Ember.get,o=Ember.isNone,l=/(^https?:\/\/.*?)(\/.*)/;DS.JsonApiSerializer=DS.RESTSerializer.extend({shouldDasherizeKeys:!0,shouldStoreLinksInMeta:!0,primaryRecordKey:"data",sideloadedRecordsKey:"included",relationshipKey:"self",relatedResourceKey:"related",keyForAttribute:function(e){return this.shouldDasherizeKeys?Ember.String.dasherize(e):e},keyForRelationship:function(e){return this.shouldDasherizeKeys?Ember.String.dasherize(e):e},keyForSnapshot:function(e){return this.shouldDasherizeKeys?Ember.String.dasherize(e.typeKey):e.typeKey},normalize:function(e,t,r){var i={};for(var s in t)if("relationships"!==s)if("attributes"!==s){var a=Ember.String.camelize(s);i[a]=t[s]}else for(var n in t[s]){var a=Ember.String.camelize(n);i[a]=t[s][n]}else i[s]=t[s];return this._super(e,i,r)},normalizePayload:function(e){if(!e)return{};var t=e[this.primaryRecordKey];return t&&(Ember.isArray(t)?this.extractArrayData(t,e):this.extractSingleData(t,e),delete e[this.primaryRecordKey]),e.meta&&delete e.meta,e.links&&delete e.links,e[this.sideloadedRecordsKey]&&(this.extractSideloaded(e[this.sideloadedRecordsKey]),delete e[this.sideloadedRecordsKey]),e},extractMeta:function(e,t,r){if(r){var i=e.metadataFor(t);r.meta&&Ember.merge(i,r.meta),this.shouldStoreLinksInMeta&&r.links&&(i.links={},Ember.merge(i.links,r.links)),e.setMetadataFor(t,i)}},extractArray:function(e,t,r,i,s){return Ember.isEmpty(r[this.primaryRecordKey])?Ember.A():this._super(e,t,r,i,s)},extractSingleData:function(e,t){e.relationships&&this.extractRelationships(e.relationships,e),t[e.type]=e,delete e.type},extractArrayData:function(e,t){var r=e.length>0?e[0].type:null,i=this;e.forEach(function(e){e.relationships&&i.extractRelationships(e.relationships,e)}),t[r]=e},extractSideloaded:function(e){var t=n(this,"store"),r={},i=this;e.forEach(function(e){var t=e.type;e.relationships&&i.extractRelationships(e.relationships,e),delete e.type,r[t]||(r[t]=[]),r[t].push(e)}),this.pushPayload(t,r)},extractRelationships:function(e,t){var r,i,a,n,o,l;t.relationships={};for(r in e)i=e[r],r=Ember.String.camelize(r.split(".").pop()),i&&("string"==typeof i?(i.indexOf("/")>-1?(n=i,a=null):(n=null,a=i),o=null):(o=i[this.relationshipKey],n=i[this.relatedResourceKey],a=s(i.data)),n&&(l=this.removeHost(n),t.relationships[r]=l,l.indexOf("{")>-1&&(DS._routes[r]=l.replace(/^\//,""))),a&&(t[r]=a),o&&(t.relationships[r+"--self"]=this.removeHost(o)));return t.relationships},removeHost:function(e){return e.replace(l,"$2")},serialize:function(e,t){var r=this._super(e,t);r.attributes={};for(var i in r)"relationships"!==i&&"attributes"!==i&&(r.attributes[i]=r[i],delete r[i]);return!r.hasOwnProperty("type")&&t&&t.type&&(r.type=Ember.String.pluralize(this.keyForRelationship(t.type))),r},serializeArray:function(e,t){var r=Ember.A(),i=this;return e?(e.forEach(function(e){r.push(i.serialize(e,t))}),r):r},serializeIntoHash:function(e,t,r,i){var s=this.serialize(r,i);s.hasOwnProperty("type")||(s.type=Ember.String.pluralize(this.keyForRelationship(t.typeKey))),e[this.keyForAttribute(t.typeKey)]=s},serializeBelongsTo:function(e,r,i){var s,a,l=i.key,p=e.belongsTo(l);o(p)||(s=this.keyForSnapshot(p),a=this.keyForRelationship(l),r.relationships=r.relationships||{},r.relationships[a]=t(a,s,n(p,"id")))},serializeHasMany:function(e,t,i){var s=i.key,a=this.keyForRelationship(i.type.typeKey),n=this.keyForRelationship(s);"hasMany"===i.kind&&(t.relationships=t.relationships||{},t.relationships[n]=r(n,a,e,s))}}),e["default"]=DS.JsonApiSerializer});